<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>St. Twins Score Calculator</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64,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">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #123524 0%, #1a4d2e 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #123524 0%, #1a4d2e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: clamp(24px, 5vw, 32px);
            margin-bottom: 10px;
            color: #ffd93d;
        }

        .formula {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            font-size: clamp(14px, 3vw, 18px);
        }

        .content {
            padding: clamp(20px, 4vw, 30px);
        }

        .section {
            margin-bottom: 30px;
        }

        .section h2 {
            color: #123524;
            margin-bottom: 15px;
            font-size: clamp(18px, 4vw, 20px);
        }

        .input-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #333;
            font-weight: 500;
            font-size: clamp(14px, 3vw, 16px);
        }

        input[type="number"],
        input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="number"]:focus,
        input[type="text"]:focus {
            outline: none;
            border-color: #123524;
        }

        .button {
            background: linear-gradient(135deg, #123524 0%, #1a4d2e 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-right: 10px;
            margin-bottom: 10px;
            width: 100%;
        }

        @media (min-width: 640px) {
            .button {
                width: auto;
            }
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(18, 53, 36, 0.4);
        }

        .button:active {
            transform: translateY(0);
        }

        .team-list {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }

        .team-item {
            background: white;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 2px solid #e0e0e0;
            gap: 10px;
            flex-wrap: wrap;
        }

        @media (min-width: 640px) {
            .team-item {
                flex-wrap: nowrap;
            }
        }

        .team-item:last-child {
            margin-bottom: 0;
        }

        .team-name {
            font-weight: 600;
            color: #333;
            flex: 1;
            min-width: 120px;
        }

        .team-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .team-rides {
            color: #667eea;
            font-weight: 600;
        }

        .remove-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            white-space: nowrap;
        }

        .remove-btn:hover {
            background: #c82333;
        }

        .results {
            background: linear-gradient(135deg, #ffd93d 0%, #f6c23e 100%);
            color: #333;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .results h3 {
            margin-bottom: 15px;
            font-size: clamp(18px, 4vw, 20px);
            color: #123524;
        }

        .result-item {
            background: rgba(255, 255, 255, 0.7);
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 10px;
            font-size: clamp(14px, 3vw, 16px);
        }

        .result-item:last-child {
            margin-bottom: 0;
        }

        .result-label {
            font-weight: 600;
            margin-right: 10px;
        }

        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border: 2px solid #e0e0e0;
            overflow-x: auto;
        }

        canvas {
            max-width: 100%;
            height: auto;
        }

        .strategy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .strategy-card {
            background: rgba(255, 255, 255, 0.7);
            padding: 15px;
            border-radius: 8px;
            border: 2px solid rgba(18, 53, 36, 0.2);
        }

        .strategy-card h4 {
            color: #123524;
            margin-bottom: 8px;
            font-size: clamp(14px, 3vw, 16px);
        }

        .strategy-value {
            font-size: clamp(20px, 5vw, 24px);
            font-weight: 700;
            color: #123524;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <img src="data:image/png;base64,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" alt="Twin Zombies" style="max-width: 100%; height: auto; margin-bottom: 15px;">
            <h1 style="color: #ffd93d;">St. Twins Score Calculator</h1>
            <div class="formula">
                total = 20 × points² / √rides
            </div>
        </div>

        <div class="content">
            <!-- Your Team Section -->
            <div class="section">
                <h2>Your Team</h2>
                <div class="input-group">
                    <label for="yourRides">Your Rides:</label>
                    <input type="number" id="yourRides" min="1" step="1" placeholder="Enter number of rides">
                </div>
                <div class="input-group">
                    <label for="yourPoints">Your Points (current or estimated):</label>
                    <input type="number" id="yourPoints" min="0" step="1" placeholder="Enter your points">
                </div>
                <div class="input-group">
                    <label for="maxPoints">Maximum Possible Points:</label>
                    <input type="number" id="maxPoints" min="1" step="1" placeholder="Enter max points possible">
                </div>
            </div>

            <!-- Other Teams Section -->
            <div class="section">
                <h2>Other Teams</h2>
                <div class="input-group">
                    <label for="teamName">Team Name:</label>
                    <input type="text" id="teamName" placeholder="Enter team name">
                </div>
                <div class="input-group">
                    <label for="teamRides">Team Rides:</label>
                    <input type="number" id="teamRides" min="1" step="1" placeholder="Enter number of rides">
                </div>
                <button class="button" onclick="addTeam()">Add Team</button>
                
                <div class="team-list" id="teamList"></div>
            </div>

            <!-- Calculate Button -->
            <div class="section">
                <button class="button" onclick="calculate()">Calculate Scores & Strategy</button>
            </div>

            <!-- Results Section -->
            <div id="results"></div>

            <!-- Chart Section -->
            <div id="chartSection"></div>
        </div>

        <div style="background: #f8f9fa; padding: 20px; text-align: center; border-top: 2px solid #e0e0e0; font-size: 14px; color: #666;">
            <p style="margin: 0 0 8px 0;">MIT License</p>
            <p style="margin: 0;">Created by <strong style="color: #123524;">Don't Push the Zombies</strong></p>
            <p style="margin: 8px 0 0 0;"><a href="https://github.com/realf/saint-twins" target="_blank" rel="noopener" style="color: #123524; text-decoration: none; font-weight: 500;">github.com/realf/saint-twins</a></p>
        </div>
    </div>

    <script>
        const teams = [];

        // Color palette for teams - easily distinguishable colors
        const teamColors = [
            '#9b59b6', // purple
            '#1abc9c', // teal
            '#f39c12', // orange
            '#3498db', // blue
            '#c0392b', // dark red
            '#e67e22', // dark orange
            '#8e44ad', // dark purple
            '#2980b9', // dark blue
            '#16a085',  // dark teal
            '#e74c3c' // red
        ];

        function getTeamColor(index) {
            return teamColors[index % teamColors.length];
        }

        function calculateScore(points, rides) {
            return 20 * Math.pow(points, 2) / Math.pow(rides, 0.5);
        }

        function addTeam() {
            const name = document.getElementById('teamName').value.trim();
            const rides = parseInt(document.getElementById('teamRides').value);

            if (!name || !rides || rides < 1) {
                alert('Please enter valid team name and rides');
                return;
            }

            teams.push({ name, rides });
            updateTeamList();
            
            // Clear inputs
            document.getElementById('teamName').value = '';
            document.getElementById('teamRides').value = '';
        }

        function removeTeam(index) {
            teams.splice(index, 1);
            updateTeamList();
        }

        function updateTeamList() {
            const listEl = document.getElementById('teamList');
            if (teams.length === 0) {
                listEl.innerHTML = '<p style="text-align: center; color: #999; padding: 20px;">No teams added yet</p>';
                return;
            }

            listEl.innerHTML = teams.map((team, index) => `
                <div class="team-item">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <div style="width: 16px; height: 16px; border-radius: 50%; background: ${getTeamColor(index)}; border: 2px solid white; box-shadow: 0 0 3px rgba(0,0,0,0.3);"></div>
                        <span class="team-name">${team.name}</span>
                    </div>
                    <div class="team-controls">
                        <input type="number" 
                               value="${team.rides}" 
                               min="1" 
                               step="1"
                               style="width: 80px; padding: 6px; border: 2px solid ${getTeamColor(index)}; border-radius: 4px; font-size: 14px; font-weight: 600; color: ${getTeamColor(index)}; text-align: center;"
                               onchange="updateTeamRides(${index}, this.value)"
                               onclick="this.select()">
                        <button class="remove-btn" onclick="removeTeam(${index})">Remove</button>
                    </div>
                </div>
            `).join('');
        }

        function updateTeamRides(index, newRides) {
            const rides = parseInt(newRides);
            if (rides && rides > 0) {
                teams[index].rides = rides;
            } else {
                updateTeamList(); // Reset if invalid
            }
        }

        function findOptimalRides(maxPoints, targetScore) {
            // Solve: 20 * maxPoints^2 / sqrt(rides) = targetScore
            // sqrt(rides) = 20 * maxPoints^2 / targetScore
            // rides = (20 * maxPoints^2 / targetScore)^2
            
            const ridesNeeded = Math.pow((20 * Math.pow(maxPoints, 2)) / targetScore, 2);
            return ridesNeeded;
        }

        function calculate() {
            const yourPoints = parseFloat(document.getElementById('yourPoints').value);
            const yourRides = parseFloat(document.getElementById('yourRides').value);
            const maxPoints = parseFloat(document.getElementById('maxPoints').value);

            if (!maxPoints || maxPoints < 1) {
                alert('Please enter maximum possible points');
                return;
            }

            let html = '<div class="results"><h3>Results</h3>';

            let yourScore = null;
            let yourTeamData = null;

            // Your current score
            if (yourPoints && yourRides && yourRides > 0) {
                yourScore = calculateScore(yourPoints, yourRides);
                yourTeamData = { name: 'Your Team', rides: yourRides, score: yourScore, points: yourPoints };
                html += `<div class="result-item">
                    <span class="result-label">Your Current Score:</span>
                    ${yourScore.toFixed(2)} (${yourPoints} points, ${yourRides} rides)
                </div>`;
            }

            // Calculate other teams' potential scores (assuming max points)
            if (teams.length > 0) {
                html += '<div class="result-item"><span class="result-label">Other Teams (assuming max points):</span></div>';
                
                const teamScores = teams.map((team, index) => ({
                    ...team,
                    score: calculateScore(maxPoints, team.rides),
                    points: maxPoints,
                    index: index  // Keep track of original index for color
                })).sort((a, b) => b.score - a.score);

                teamScores.forEach(team => {
                    html += `<div class="result-item">
                        ${team.name}: ${team.score.toFixed(2)} (${team.rides} rides)
                    </div>`;
                });

                // Find highest opponent score
                const highestOpponentScore = teamScores[0].score;
                const leaderRides = teamScores[0].rides;
                
                // Calculate rides needed to beat highest opponent using YOUR assumed points
                const pointsToUse = yourPoints || maxPoints;
                const ridesToBeat = findOptimalRides(pointsToUse, highestOpponentScore * 1.01);
                const ridesToTie = findOptimalRides(pointsToUse, highestOpponentScore);
                
                // Calculate how many rides would make the leader lose (based on YOUR score)
                let leaderLosesAtRides = null;
                if (yourScore && yourScore > 0) {
                    // Leader loses if their score falls below YOUR score
                    // Solve: 20 * maxPoints^2 / sqrt(rides) < yourScore
                    // sqrt(rides) > 20 * maxPoints^2 / yourScore
                    // rides > (20 * maxPoints^2 / yourScore)^2
                    leaderLosesAtRides = Math.ceil(Math.pow((20 * Math.pow(maxPoints, 2)) / yourScore, 2));
                }

                html += '</div><div class="results"><h3>Strategy Recommendations</h3>';
                html += `<div class="strategy-grid">
                    <div class="strategy-card">
                        <h4>To Beat the Best Opponent</h4>
                        <div class="strategy-value">${Math.floor(ridesToBeat)}</div>
                        <div style="color: #666; margin-top: 5px; font-size: 14px;">rides (with ${pointsToUse} points)</div>
                    </div>
                    <div class="strategy-card">
                        <h4>Leader's Score</h4>
                        <div class="strategy-value">${highestOpponentScore.toFixed(0)}</div>
                        <div style="color: #666; margin-top: 5px; font-size: 14px;">${teamScores[0].name}</div>
                    </div>
                    ${leaderLosesAtRides ? `<div class="strategy-card">
                        <h4>The Best Opponent Loses If</h4>
                        <div class="strategy-value">${leaderLosesAtRides}+</div>
                        <div style="color: #666; margin-top: 5px; font-size: 14px;">rides (${teamScores[0].name})</div>
                    </div>` : ''}
                </div>`;

                // Create visualization
                createChart(maxPoints, teamScores, ridesToBeat, ridesToTie, yourTeamData, leaderLosesAtRides);
            }

            html += '</div>';
            document.getElementById('results').innerHTML = html;
        }

        function createChart(maxPoints, teamScores, ridesToBeat, ridesToTie, yourTeamData, leaderLosesAtRides) {
            const chartHtml = `
                <div class="chart-container">
                    <h3 style="color: #123524; margin-bottom: 15px;">Score vs Rides</h3>
                    <canvas id="scoreChart" width="800" height="500"></canvas>
                </div>
            `;
            document.getElementById('chartSection').innerHTML = chartHtml;

            const canvas = document.getElementById('scoreChart');
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            const paddingLeft = 80;
            const paddingRight = 40;
            const paddingTop = 40;
            const paddingBottom = 60;

            // Clear canvas
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, width, height);

            // Collect all data points to determine ranges
            const allRides = [...teamScores.map(t => t.rides)];
            const allScores = [...teamScores.map(t => t.score)];
            
            if (yourTeamData) {
                allRides.push(yourTeamData.rides);
                allScores.push(yourTeamData.score);
            }
            
            if (ridesToBeat) {
                allRides.push(ridesToBeat);
            }

            // Calculate dynamic ranges with some padding
            const minRidesData = Math.min(...allRides);
            const maxRidesData = Math.max(...allRides);
            const minScoreData = Math.min(...allScores);
            const maxScoreData = Math.max(...allScores);
            
            // Add 10% padding to ranges
            const ridesRange = maxRidesData - minRidesData;
            const scoreRange = maxScoreData - minScoreData;
            
            const minRides = Math.max(1, Math.floor(minRidesData - ridesRange * 0.1));
            const maxRides = Math.ceil(maxRidesData + ridesRange * 0.1);
            const minScore = Math.max(0, Math.floor(minScoreData - scoreRange * 0.1));
            const maxScore = Math.ceil(maxScoreData + scoreRange * 0.1);

            // Helper function to convert data coordinates to canvas coordinates
            function dataToCanvas(rides, score) {
                const x = paddingLeft + ((rides - minRides) / (maxRides - minRides)) * (width - paddingLeft - paddingRight);
                const y = height - paddingBottom - ((score - minScore) / (maxScore - minScore)) * (height - paddingTop - paddingBottom);
                return { x, y };
            }

            // Draw grid lines
            ctx.strokeStyle = '#e0e0e0';
            ctx.lineWidth = 1;
            
            // Vertical grid lines (rides)
            const ridesStep = Math.ceil((maxRides - minRides) / 10);
            for (let rides = minRides; rides <= maxRides; rides += ridesStep) {
                const pos = dataToCanvas(rides, minScore);
                ctx.beginPath();
                ctx.moveTo(pos.x, height - paddingBottom);
                ctx.lineTo(pos.x, paddingTop);
                ctx.stroke();
            }
            
            // Horizontal grid lines (score)
            const scoreStep = Math.ceil((maxScore - minScore) / 8);
            for (let score = minScore; score <= maxScore; score += scoreStep) {
                const pos = dataToCanvas(minRides, score);
                ctx.beginPath();
                ctx.moveTo(paddingLeft, pos.y);
                ctx.lineTo(width - paddingRight, pos.y);
                ctx.stroke();
            }

            // Draw axes
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(paddingLeft, height - paddingBottom);
            ctx.lineTo(width - paddingRight, height - paddingBottom);
            ctx.moveTo(paddingLeft, height - paddingBottom);
            ctx.lineTo(paddingLeft, paddingTop);
            ctx.stroke();

            // Draw axis labels and values
            ctx.fillStyle = '#333';
            ctx.font = '12px sans-serif';
            
            // X-axis values (rides)
            ctx.textAlign = 'center';
            for (let rides = minRides; rides <= maxRides; rides += ridesStep) {
                const pos = dataToCanvas(rides, minScore);
                ctx.fillText(rides.toString(), pos.x, height - paddingBottom + 20);
            }
            
            // X-axis label
            ctx.font = '14px sans-serif';
            ctx.fillText('Rides', width / 2, height - 10);
            
            // Y-axis values (score)
            ctx.font = '12px sans-serif';
            ctx.textAlign = 'right';
            for (let score = minScore; score <= maxScore; score += scoreStep) {
                const pos = dataToCanvas(minRides, score);
                ctx.fillText(score.toString(), paddingLeft - 10, pos.y + 4);
            }
            
            // Y-axis label
            ctx.save();
            ctx.translate(20, height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.font = '14px sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('Score', 0, 0);
            ctx.restore();

            // Draw curves for each team
            // First draw your team's curve if it exists
            if (yourTeamData) {
                const curvePoints = [];
                for (let rides = minRides; rides <= maxRides; rides += (maxRides - minRides) / 200) {
                    const score = calculateScore(yourTeamData.points, rides);
                    if (score >= minScore && score <= maxScore) {
                        curvePoints.push({ rides, score });
                    }
                }

                if (curvePoints.length > 0) {
                    ctx.strokeStyle = '#28a745';
                    ctx.lineWidth = 2.5;
                    ctx.beginPath();
                    
                    curvePoints.forEach((point, i) => {
                        const pos = dataToCanvas(point.rides, point.score);
                        if (i === 0) {
                            ctx.moveTo(pos.x, pos.y);
                        } else {
                            ctx.lineTo(pos.x, pos.y);
                        }
                    });
                    ctx.stroke();
                }
            }

            // Draw curves for other teams
            teamScores.forEach((team) => {
                const curvePoints = [];
                for (let rides = minRides; rides <= maxRides; rides += (maxRides - minRides) / 200) {
                    const score = calculateScore(team.points, rides);
                    if (score >= minScore && score <= maxScore) {
                        curvePoints.push({ rides, score });
                    }
                }

                if (curvePoints.length > 0) {
                    ctx.strokeStyle = getTeamColor(team.index);
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    
                    curvePoints.forEach((point, i) => {
                        const pos = dataToCanvas(point.rides, point.score);
                        if (i === 0) {
                            ctx.moveTo(pos.x, pos.y);
                        } else {
                            ctx.lineTo(pos.x, pos.y);
                        }
                    });
                    ctx.stroke();
                }
            });

            // Draw other team points
            teamScores.forEach((team) => {
                const pos = dataToCanvas(team.rides, team.score);
                
                ctx.fillStyle = getTeamColor(team.index);
                ctx.beginPath();
                ctx.arc(pos.x, pos.y, 7, 0, 2 * Math.PI);
                ctx.fill();
                
                // White border
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.arc(pos.x, pos.y, 7, 0, 2 * Math.PI);
                ctx.stroke();
                
                // Draw point value
                ctx.fillStyle = '#333';
                ctx.font = 'bold 11px sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText(team.name, pos.x, pos.y - 12);
                ctx.font = '10px sans-serif';
                ctx.fillText(`(${team.rides}r, ${Math.round(team.score)}s)`, pos.x, pos.y + 20);
            });

            // Draw your team point
            if (yourTeamData) {
                const pos = dataToCanvas(yourTeamData.rides, yourTeamData.score);
                
                ctx.fillStyle = '#28a745';
                ctx.beginPath();
                ctx.arc(pos.x, pos.y, 9, 0, 2 * Math.PI);
                ctx.fill();
                
                // Add white border to make it stand out
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.arc(pos.x, pos.y, 9, 0, 2 * Math.PI);
                ctx.stroke();
                
                ctx.fillStyle = '#28a745';
                ctx.font = 'bold 12px sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText('Your Team', pos.x, pos.y - 15);
                ctx.font = '10px sans-serif';
                ctx.fillText(`(${yourTeamData.rides}r, ${Math.round(yourTeamData.score)}s)`, pos.x, pos.y + 23);
            }

            // Draw optimal rides marker (where you should be to beat leader)
            if (ridesToBeat && ridesToBeat >= minRides && ridesToBeat <= maxRides) {
                const pointsToUse = yourTeamData ? yourTeamData.points : maxPoints;
                const targetScore = calculateScore(pointsToUse, ridesToBeat);
                const pos = dataToCanvas(ridesToBeat, targetScore);
                
                // Vertical line
                ctx.strokeStyle = '#ffc107';
                ctx.lineWidth = 2;
                ctx.setLineDash([5, 5]);
                ctx.beginPath();
                ctx.moveTo(pos.x, height - paddingBottom);
                ctx.lineTo(pos.x, paddingTop);
                ctx.stroke();
                ctx.setLineDash([]);
                
                // Point on your curve
                ctx.fillStyle = '#ffc107';
                ctx.beginPath();
                ctx.arc(pos.x, pos.y, 6, 0, 2 * Math.PI);
                ctx.fill();
                
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.arc(pos.x, pos.y, 6, 0, 2 * Math.PI);
                ctx.stroke();
                
                // Label
                ctx.fillStyle = '#ffc107';
                ctx.font = 'bold 11px sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText(`To beat: ${Math.floor(ridesToBeat)}r`, pos.x, paddingTop - 5);
            }

            // Draw leader loses marker (where leader falls below your score)
            if (leaderLosesAtRides && leaderLosesAtRides >= minRides && leaderLosesAtRides <= maxRides && teamScores.length > 0) {
                const leaderScore = calculateScore(maxPoints, leaderLosesAtRides);
                const pos = dataToCanvas(leaderLosesAtRides, leaderScore);
                
                // Vertical line
                ctx.strokeStyle = '#dc3545';
                ctx.lineWidth = 2;
                ctx.setLineDash([5, 5]);
                ctx.beginPath();
                ctx.moveTo(pos.x, height - paddingBottom);
                ctx.lineTo(pos.x, paddingTop);
                ctx.stroke();
                ctx.setLineDash([]);
                
                // Point on leader's curve
                ctx.fillStyle = '#dc3545';
                ctx.beginPath();
                ctx.arc(pos.x, pos.y, 6, 0, 2 * Math.PI);
                ctx.fill();
                
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.arc(pos.x, pos.y, 6, 0, 2 * Math.PI);
                ctx.stroke();
                
                // Label
                ctx.fillStyle = '#dc3545';
                ctx.font = 'bold 11px sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText(`Leader loses: ${leaderLosesAtRides}r+`, pos.x, height - paddingBottom + 35);
            }
        }

        // Initialize
        updateTeamList();
    </script>
</body>
</html>